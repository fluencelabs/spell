import Op, Debug from "@fluencelabs/aqua-lib/builtin.aqua"
import Spell from "@fluencelabs/spell/spell_service.aqua"

import SpellData from "./spell_data.aqua"
import Console from "./console.aqua"


-- func console(any: T):
func log(arg: ‚ä§):
    spell_id <- SpellData.spell_id()
    str <- Debug.stringify(arg)
    Spell spell_id
    Spell.list_push_string("logs", str)

    prefix <- Op.concat_strings(spell_id, ": ")
    msg <- Op.concat_strings(prefix, str)
    par Console.print(msg)