; This file is auto-generated. Do not edit manually: changes may be erased.
; Generated by Aqua compiler: https://github.com/fluencelabs/aqua/.
; If you find any bugs, please write an issue on GitHub: https://github.com/fluencelabs/aqua/issues
; Aqua version: 0.9.1-0.9.2

(seq
 (seq
  (seq
   (call %init_peer_id% ("getDataSrv" "fellow_spell_id") [] fellow_spell_id)
   (call %init_peer_id% ("json" "parse") [fellow_spell_id] fellow_spell_id_real)
  )
  (call %init_peer_id% (fellow_spell_id_real "get_string") ["value"] result)
 )
 (xor
  (match result.$.success! true
   (seq
    (seq
     (seq
      (call %init_peer_id% ("json" "parse") [result.$.str!] value_num)
      (call %init_peer_id% ("math" "add") [value_num 1] value_new)
     )
     (call %init_peer_id% ("json" "stringify") [value_new] value_str)
    )
    (call %init_peer_id% (fellow_spell_id_real "set_string") ["value" value_str])
   )
  )
  (call %init_peer_id% ("op" "noop") [])
 )
)
