(xor
 (seq
  (seq
   (call %init_peer_id% ("getDataSrv" "fellow_spell_id") [] fellow_spell_id)
   (call %init_peer_id% (fellow_spell_id "get_string") ["value"] result)
  )
  (xor
   (match result.$.success true
    (xor
     (seq
      (seq
       (seq
        (call %init_peer_id% ("json" "parse") [result.$.str] value_num)
        (call %init_peer_id% ("math" "add") [value_num 1] value_new)
       )
       (call %init_peer_id% ("json" "stringify") [value_new] value_str)
      )
      (call %init_peer_id% (fellow_spell_id "set_string") ["value" value_str])
     )
     (call %init_peer_id% ("errorHandlingSrv" "error") [%last_error% 1])
    )
   )
   (call %init_peer_id% ("op" "noop") [])
  )
 )
 (call %init_peer_id% ("errorHandlingSrv" "error") [%last_error% 2])
)
