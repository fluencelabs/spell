; This file is auto-generated. Do not edit manually: changes may be erased.
; Generated by Aqua compiler: https://github.com/fluencelabs/aqua/.
; If you find any bugs, please write an issue on GitHub: https://github.com/fluencelabs/aqua/issues
; Aqua version: 0.9.1-374

(xor
 (seq
  (seq
   (call %init_peer_id% ("getDataSrv" "fellow_spell_id") [] fellow_spell_id)
   (call %init_peer_id% (fellow_spell_id "get_string") ["value"] result)
  )
  (xor
   (match result.$.success! true
    (xor
     (seq
      (seq
       (seq
        (call %init_peer_id% ("json" "parse") [result.$.str!] value_num)
        (call %init_peer_id% ("math" "add") [value_num 1] value_new)
       )
       (call %init_peer_id% ("json" "stringify") [value_new] value_str)
      )
      (call %init_peer_id% (fellow_spell_id "set_string") ["value" value_str])
     )
     (call %init_peer_id% ("errorHandlingSrv" "error") [%last_error% 1])
    )
   )
   (call %init_peer_id% ("op" "noop") [])
  )
 )
 (call %init_peer_id% ("errorHandlingSrv" "error") [%last_error% 2])
)
